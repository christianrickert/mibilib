
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>mibitracker package &#8212; IONpath MIBIlib 0.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="mibitracker-package">
<h1>mibitracker package<a class="headerlink" href="#mibitracker-package" title="Permalink to this headline">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-mibitracker.mibitracker_exceptions">
<span id="mibitracker-mibitracker-exceptions-module"></span><h2>mibitracker.mibitracker_exceptions module<a class="headerlink" href="#module-mibitracker.mibitracker_exceptions" title="Permalink to this headline">¶</a></h2>
<p>Provides a custom exception for MibiTracker API requests.</p>
<p>Copyright (C) 2021 Ionpath, Inc.  All rights reserved.</p>
<dl class="py exception">
<dt class="sig sig-object py" id="mibitracker.mibitracker_exceptions.MibiTrackerError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mibitracker.mibitracker_exceptions.</span></span><span class="sig-name descname"><span class="pre">MibiTrackerError</span></span><a class="headerlink" href="#mibitracker.mibitracker_exceptions.MibiTrackerError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Raise for exceptions where the response from the MibiTracker API is
invalid or unexpected.</p>
</dd></dl>

</section>
<section id="module-mibitracker.request_helpers">
<span id="mibitracker-request-helpers-module"></span><h2>mibitracker.request_helpers module<a class="headerlink" href="#module-mibitracker.request_helpers" title="Permalink to this headline">¶</a></h2>
<p>Helper class for making and retrying requests to the MIBItracker.</p>
<p>Copyright (C) 2021 Ionpath, Inc.  All rights reserved.</p>
<dl class="py class">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mibitracker.request_helpers.</span></span><span class="sig-name descname"><span class="pre">MibiRequests</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_methods</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('HEAD',</span> <span class="pre">'GET',</span> <span class="pre">'PUT',</span> <span class="pre">'DELETE',</span> <span class="pre">'OPTIONS',</span> <span class="pre">'TRACE',</span> <span class="pre">'POST')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_codes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(502,</span> <span class="pre">503)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session_timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_transfer_timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Helper class for making requests to the MIBItracker.</p>
<p>This is an opinionated way of using <code class="docutils literal notranslate"><span class="pre">requests.Session</span></code> with the following
features:</p>
<ul class="simple">
<li><p>In the case of specified HTTP errors, requests are retried.</p></li>
<li><p>All responses call <code class="docutils literal notranslate"><span class="pre">raise_for_status()</span></code>.</p></li>
<li><dl class="simple">
<dt>An instance requests an authorization token upon initialization, and</dt><dd><p>includes it in a default header for all future requests. No token
refresh capabilities are built in, so if the token expires a new
instance needs to be initialized.</p>
</dd>
</dl>
</li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> – The string url to the backend of a MIBItracker instance, e.g.
<code class="docutils literal notranslate"><span class="pre">'https://backend-dot-mibitracker-demo.appspot.com'</span></code>.</p></li>
<li><p><strong>email</strong> – The string email address of your MIBItracker account.</p></li>
<li><p><strong>password</strong> – The string password of your MIBItracker account.</p></li>
<li><p><strong>token</strong> – A JSON Web Token (JWT) to validate a MIBItracker session.</p></li>
<li><p><strong>refresh</strong> – Number of seconds since previous refresh to automatically
refresh token. Defaults to 5 minutes. Set to 0 or None in order
to not attempt refreshes.</p></li>
<li><p><strong>retries</strong> – The max number of retries for HTTP status errors. Defaults
to <code class="docutils literal notranslate"><span class="pre">MAX_RETRIES</span></code> which is set to 3.</p></li>
<li><p><strong>retry_methods</strong> – The HTTP methods to retry. Defaults to
<code class="docutils literal notranslate"><span class="pre">RETRY_METHOD_WHITELIST</span></code> which is the defaults to <code class="docutils literal notranslate"><span class="pre">urllib3</span></code>’s
whitelist with the addition of POST.</p></li>
<li><p><strong>retry_codes</strong> – The HTTP status codes to retry. Defaults to <code class="docutils literal notranslate"><span class="pre">(502,</span> <span class="pre">503)</span></code>,
which are associated with transient errors seen on app engine.</p></li>
<li><p><strong>session_timeout</strong> – Timeout for MIBItracker requests.</p></li>
<li><p><strong>data_transfer_timeout</strong> – Timeout for data transfer requests.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests.url">
<span class="sig-name descname"><span class="pre">url</span></span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests.url" title="Permalink to this definition">¶</a></dt>
<dd><p>The string url to the backend of a MIBItracker instance.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests.session">
<span class="sig-name descname"><span class="pre">session</span></span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests.session" title="Permalink to this definition">¶</a></dt>
<dd><p>A <code class="docutils literal notranslate"><span class="pre">StatusCheckedSession</span></code> that includes an authorization
header and automatically raises for HTTP status errors.</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>HTTPError</strong> – Raised by <code class="docutils literal notranslate"><span class="pre">requests.raise_for_status()</span></code>, i.e. if a
    response’s status code is &gt;= 400.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests.refresh">
<span class="sig-name descname"><span class="pre">refresh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Refreshes the authorization token stored in the session header.</p>
<p>Raises HTTP 400 if attempting to refresh an expired token.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">route</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a GET request to the url using the session.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>route</strong> – The route to add to the base url, such as <code class="docutils literal notranslate"><span class="pre">'/images/'</span></code>
or <code class="docutils literal notranslate"><span class="pre">'/tissues/?organ=tonsil'</span></code>.</p></li>
<li><p><strong>*args</strong> – Passed to <code class="docutils literal notranslate"><span class="pre">requests.Session.get</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Passes to <code class="docutils literal notranslate"><span class="pre">requests.Session.get</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The response from <code class="docutils literal notranslate"><span class="pre">requests.Session.get</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests.post">
<span class="sig-name descname"><span class="pre">post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">route</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests.post" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a POST request to the url using the session.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>route</strong> – The route to add to the base url, such as <code class="docutils literal notranslate"><span class="pre">'/slides/1/'</span></code>.</p></li>
<li><p><strong>*args</strong> – Passed to <code class="docutils literal notranslate"><span class="pre">requests.Session.post</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Passes to <code class="docutils literal notranslate"><span class="pre">requests.Session.post</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The response from <code class="docutils literal notranslate"><span class="pre">requests.Session.post</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests.put">
<span class="sig-name descname"><span class="pre">put</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">route</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a PUT request to the url using the session.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>route</strong> – The route to add to the base url, such as <code class="docutils literal notranslate"><span class="pre">'/images/1/'</span></code>.</p></li>
<li><p><strong>*args</strong> – Passed to <code class="docutils literal notranslate"><span class="pre">requests.Session.put</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Passes to <a href="#id1"><span class="problematic" id="id2">``</span></a>requests.Session.put`.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The response from <code class="docutils literal notranslate"><span class="pre">requests.Session.put</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">route</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a DELETE request to the url using the session.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>route</strong> – The route to add to the base url, such as <code class="docutils literal notranslate"><span class="pre">'/images/1/'</span></code>.</p></li>
<li><p><strong>*args</strong> – Passed to <code class="docutils literal notranslate"><span class="pre">requests.Session.delete</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Passes to <code class="docutils literal notranslate"><span class="pre">requests.Session.delete</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The response from <code class="docutils literal notranslate"><span class="pre">requests.Session.delete</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests.download_file">
<span class="sig-name descname"><span class="pre">download_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests.download_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Downloads a file from MIBItracker storage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the file in storage. This usually can be
constructed from the run and image folders.</p>
</dd>
</dl>
<dl class="simple">
<dt>Returns: An open file object containing the downloaded file’s data,</dt><dd><p>rewound to the beginning of the file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests.search_runs">
<span class="sig-name descname"><span class="pre">search_runs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">run_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests.search_runs" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches for runs which have the name and optionally label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>run_name</strong> – The name of the run the image belongs to.</p></li>
<li><p><strong>run_label</strong> – (optional) The label of the run.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns: A list of JSON data for each run that matches the search.</dt><dd><p>If only <code class="docutils literal notranslate"><span class="pre">run_name</span></code> is specified, this list could be of any
length as a run’s name is not necessarily unique. If
<code class="docutils literal notranslate"><span class="pre">run_label</span></code> is also specified, this is guaranteed to be
unique and the returned list could either be of length
zero or one.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests.copy_run">
<span class="sig-name descname"><span class="pre">copy_run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_label</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests.copy_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a copy of the run corresponding to the label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old_label</strong> – The label of the run to copy.</p></li>
<li><p><strong>new_label</strong> – The label to use for the copied run.</p></li>
<li><p><strong>kwargs</strong> – Any key-value pair that can be included in the json when
creating the new run to differentiate it from the old run,
such as a different project id or FOV size (such as if images
were cropped from their originals).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of the response JSON returned by old run and from creating
its copy, respectively.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests.copy_run_image_metadata">
<span class="sig-name descname"><span class="pre">copy_run_image_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_run_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_run_label</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests.copy_run_image_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>This updates image metadata but not the actual TIFF data.</p>
<p>Each new image will remain unavailable until a TIFF is uploaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old_run_label</strong> – The label of the run whose images’ metadata is to
be copied.</p></li>
<li><p><strong>new_run_label</strong> – The label of the run whose images’ metadata will be
updated. This run must already exist.</p></li>
<li><p><strong>kwargs</strong> – Any key-value pair that can be included in the json when
updating the the images to differentiate them from the old
runs’, such as a different project id or frame (such as if
images were cropped from their originals).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary with keys of the original image IDs, and values of the
response JSON returned when updating the new images.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests.upload_mibitiff">
<span class="sig-name descname"><span class="pre">upload_mibitiff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tiff_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests.upload_mibitiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Uploads a single TIFF to the MIBItracker.</p>
<p>This uses the ‘run’ and ‘folder’ fields in the MibiTiff’s description to
associate this with the correct image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tiff_file</strong> – A string path to a TIFF file or an open file object
containing the TIFF data.</p></li>
<li><p><strong>run_id</strong> – The ID of the run the image is from. This enables checking
of the image metadata against expected values and may become
mandatory in the future.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The response from the MIBItracker after uploading the file and
queuing it to be processed into viewable data.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – Raised if tiff_file is not a string path or file object.</p></li>
<li><p><strong>ValueError</strong> – Raised if run_id is None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests.upload_channel">
<span class="sig-name descname"><span class="pre">upload_channel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests.upload_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Uploads a grayscale PNG or TIFF to the MIBItracker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image_id</strong> – The integer id of the image to associate the channel with.</p></li>
<li><p><strong>image_file</strong> – A string path to a PNG or TIFF file, or an open file
object of a PNG or TIFF file to upload.</p></li>
<li><p><strong>filename</strong> – The name to use for the file being uploaded. If
image_file is a path, this can be omitted and that file’s name
will be used. It should be the name of the channel/layer with
an extension to indicate format, such as “CD45.tiff” or
“cell_boundaries.png”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The response from the MIBItracker after uploading the file.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – Raised if image_file is not a string path or file object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests.run_images">
<span class="sig-name descname"><span class="pre">run_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">run_label</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests.run_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a JSON array of image metadata from a given run label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>run_label</strong> – The unique string label of a run.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of dicts of of image metadata for the specified run.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests.image_conjugates">
<span class="sig-name descname"><span class="pre">image_conjugates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests.image_conjugates" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a JSON array of panel conjugates from a given image id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_id</strong> – The integer id of an image.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of dicts of antibody conjugate details from the image’s
panel. This will be an empty list of the image does not have a
section assigned, or if its section does not have a panel assigned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests.image_id">
<span class="sig-name descname"><span class="pre">image_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">run_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fov_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests.image_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the primary key of an image given the specified run and FOV.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>run_label</strong> – The label of the run the image belongs to. If no images
found using run label (which is the unique identifier of
each run), run name is checked instead (run name is not
guaranteed to be unique per run).</p></li>
<li><p><strong>fov_id</strong> – The FOV ID, in the format of <code class="docutils literal notranslate"><span class="pre">FOV&lt;n&gt;</span></code> or <code class="docutils literal notranslate"><span class="pre">Point&lt;n&gt;</span></code>
for data generated with MIBIcontrol and MiniSIMS, respectively.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An int id corresponding to the primary key of the image.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – Raised if no images match the specified run and FOV,
    or if more than one image matches the specified run and FOV.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests.get_mibi_image">
<span class="sig-name descname"><span class="pre">get_mibi_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests.get_mibi_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets image data from MIBItracker and creates a MibiImage instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_id</strong> – The integer id of an image.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A MibiImage instance of the requested image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests.get_channel_data">
<span class="sig-name descname"><span class="pre">get_channel_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests.get_channel_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a single channel from MIBItracker as a 2D numpy array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image_id</strong> – The integer id of an image.</p></li>
<li><p><strong>channel_name</strong> – The name of the channel to download.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A MxN numpy array of the channel data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.MibiRequests.create_imageset">
<span class="sig-name descname"><span class="pre">create_imageset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imageset_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imageset_description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.MibiRequests.create_imageset" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new imageset in a project with the specified images.</p>
<blockquote>
<div><p>Note that all images in the set must be either in the project
specified or in other projects to which the user has access and
sharing is enabled.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image_ids</strong> – A list of ints of ids of the images in MIBItracker
corresponding to the images to be added to the new imageset.</p></li>
<li><p><strong>imageset_name</strong> – A string name for the new imageset.</p></li>
<li><p><strong>project_id</strong> – An integer id specifying the project in which to create
the image set.</p></li>
<li><p><strong>imageset_description</strong> – (optional) A string description for the new
imageset. Defaults to None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mibitracker.request_helpers.StatusCheckedSession">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mibitracker.request_helpers.</span></span><span class="sig-name descname"><span class="pre">StatusCheckedSession</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.StatusCheckedSession" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">requests.sessions.Session</span></code></p>
<p>Raises for HTTP errors and adds any response JSON to the message.</p>
<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.StatusCheckedSession.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.StatusCheckedSession.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a GET request. Returns <code class="xref py py-class docutils literal notranslate"><span class="pre">Response</span></code> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> – URL for the new <code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code> object.</p></li>
<li><p><strong>**kwargs</strong> – Optional arguments that <code class="docutils literal notranslate"><span class="pre">request</span></code> takes.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>requests.Response</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.StatusCheckedSession.options">
<span class="sig-name descname"><span class="pre">options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.StatusCheckedSession.options" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a OPTIONS request. Returns <code class="xref py py-class docutils literal notranslate"><span class="pre">Response</span></code> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> – URL for the new <code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code> object.</p></li>
<li><p><strong>**kwargs</strong> – Optional arguments that <code class="docutils literal notranslate"><span class="pre">request</span></code> takes.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>requests.Response</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.StatusCheckedSession.post">
<span class="sig-name descname"><span class="pre">post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.StatusCheckedSession.post" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a POST request. Returns <code class="xref py py-class docutils literal notranslate"><span class="pre">Response</span></code> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> – URL for the new <code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code> object.</p></li>
<li><p><strong>data</strong> – (optional) Dictionary, list of tuples, bytes, or file-like
object to send in the body of the <code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code>.</p></li>
<li><p><strong>json</strong> – (optional) json to send in the body of the <code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Optional arguments that <code class="docutils literal notranslate"><span class="pre">request</span></code> takes.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>requests.Response</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.StatusCheckedSession.put">
<span class="sig-name descname"><span class="pre">put</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.StatusCheckedSession.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a PUT request. Returns <code class="xref py py-class docutils literal notranslate"><span class="pre">Response</span></code> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> – URL for the new <code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code> object.</p></li>
<li><p><strong>data</strong> – (optional) Dictionary, list of tuples, bytes, or file-like
object to send in the body of the <code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Optional arguments that <code class="docutils literal notranslate"><span class="pre">request</span></code> takes.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>requests.Response</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mibitracker.request_helpers.StatusCheckedSession.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mibitracker.request_helpers.StatusCheckedSession.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a DELETE request. Returns <code class="xref py py-class docutils literal notranslate"><span class="pre">Response</span></code> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> – URL for the new <code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code> object.</p></li>
<li><p><strong>**kwargs</strong> – Optional arguments that <code class="docutils literal notranslate"><span class="pre">request</span></code> takes.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>requests.Response</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-mibitracker">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-mibitracker" title="Permalink to this headline">¶</a></h2>
<p>Provides classes and methods for interacting with the MIBItracker API</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">IONpath MIBIlib</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, IONpath Inc..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/mibitracker.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>